@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Orbitron:wght@400;700&display=swap');

html, body, [data-testid="stAppViewContainer"] { background-color: #00080c !important; }
.stApp { background: radial-gradient(circle at 50% 50%, #001a1a 0%, #002b36 40%, #000000 100%) !important; background-attachment: fixed; font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif; }
[data-testid="stAppViewContainer"] > .main { opacity: 1 !important; transition: none !important; }
[data-testid="stSkeleton"], [data-testid="stStatusWidget"] { display: none !important; }

/* 頂部控制按鈕 */
.top-refresh-btn > button { border-color: #4ade80 !important; color: #4ade80 !important; font-weight: bold; background: rgba(74,222,128,0.05); padding: 8px !important; }
.top-refresh-btn > button:hover { background: rgba(74,222,128,0.2) !important; box-shadow: 0 0 10px rgba(74,222,128,0.3); }

/* 卡片容器 */
.metro-box { background: rgba(255, 255, 255, 0.04); backdrop-filter: blur(20px); border: 1px solid rgba(74, 222, 128, 0.15); border-radius: 12px; padding: 15px; margin-bottom: 20px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5), inset 0 0 12px rgba(255, 255, 255, 0.03); display: flex; flex-direction: column; position: relative; z-index: 1; transition: transform 0.2s; }
.metro-box:hover { border-color: rgba(74, 222, 128, 0.3); }

/* 頂部三大指標 (自適應) */
.top-summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-bottom: 15px; }

/* 狀態列 (四等分自適應) */
.status-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 10px; }
.status-card { background: rgba(255, 255, 255, 0.02); border-radius: 8px; padding: 12px 8px; text-align: center; border: 1px solid rgba(255,255,255,0.05); transition: background 0.2s; }
.status-card:hover { background: rgba(255, 255, 255, 0.06); }

/* ETF 對標四宮格 */
.etf-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 15px; }
.etf-card { padding: 12px 5px; border-radius: 10px; text-align: center; display: flex; flex-direction: column; justify-content: center; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); cursor: default;}
.etf-card:hover { transform: translateY(-3px); box-shadow: 0 5px 20px rgba(0,0,0,0.4) !important; filter: brightness(1.1); }
.etf-title { font-size: 0.75rem; color: #8899a6; margin-bottom: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.etf-rate { font-size: 1.4rem; font-family: 'Orbitron', sans-serif; font-weight: bold; color: #fff; }
.etf-spread { font-size: 0.7rem; margin-top: 5px; font-weight: bold; }

/* 綜合表現雙拼扁平化 */
.perf-container { display: flex; align-items: center; justify-content: space-between; flex-wrap: nowrap; padding: 10px 5px; }
.perf-left { flex: 1; text-align: center; border-right: 1px solid rgba(255,255,255,0.1); padding-right: 10px; }
.perf-right { flex: 1.2; padding-left: 20px; font-size: 0.85rem; line-height: 1.8; color: #ccc; text-align: left; }
@media (max-width: 400px) { .perf-right { padding-left: 10px; font-size: 0.75rem; } .etf-rate { font-size: 1.2rem; } }

/* 文字共用 */
.label-text { color: #8899a6; font-size: 0.8rem; margin-bottom: 5px; font-weight: bold; }
.value-text { color: #4ade80; font-size: 1.4rem; font-weight: 700; font-family: 'Orbitron', sans-serif; text-shadow: 0 0 15px rgba(74, 222, 128, 0.3); }
.sub-text { color: #8899a6; font-size: 0.7rem; margin-top: 5px; }

/* 動畫與掃描器 */
@keyframes alarm-pulse { 0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); border-color: rgba(239, 68, 68, 0.6); } 70% { box-shadow: 0 0 15px 10px rgba(239, 68, 68, 0); border-color: rgba(239, 68, 68, 0.2); } 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } }
.idle-pulse { animation: alarm-pulse 2s infinite !important; background: rgba(239, 68, 68, 0.1) !important; border-color: rgba(239, 68, 68, 0.4) !important;}
.ai-scanner-wrapper { position:absolute; top:0; left:0; width:100%; height:100%; overflow:hidden; border-radius:12px; pointer-events:none; z-index: 0; }
@keyframes ai-scan { 0% { top: -20%; opacity: 0; } 10% { opacity: 0.8; } 90% { opacity: 0.8; } 100% { top: 120%; opacity: 0; } }
.ai-scanner-line { position: absolute; left: 0; width: 100%; height: 3px; background: linear-gradient(90deg, transparent, #f97316, transparent); box-shadow: 0 0 15px #f97316; animation: ai-scan 3s cubic-bezier(0.4, 0, 0.2, 1) infinite; z-index: 0; }

header, footer {visibility: hidden;} .block-container { padding-top: 1.5rem !important; padding-bottom: 5rem !important;}
[data-testid="stTabs"] { margin-top: 10px; }